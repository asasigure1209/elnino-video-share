# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒ²ã‚¿èŠ¸ãƒãƒˆãƒ«ã‚¤ãƒ™ãƒ³ãƒˆã€Œã‚¨ãƒ«ãƒ‹ãƒ¼ãƒ‹ãƒ§ã€ã®å‹•ç”»é…å¸ƒã‚µã‚¤ãƒˆã§ã™ã€‚ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒè‡ªåˆ†ã®å‹•ç”»ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½ã¨ã€ç®¡ç†è€…ãŒå‹•ç”»ãƒ»ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ç®¡ç†ã§ãã‚‹ç®¡ç†æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Next.js (TypeScript) + Tailwind CSS
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Next.js App Router + React Server Components + Server Actions
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Google Sheets (players, videos, player_videos ã®3ã‚·ãƒ¼ãƒˆ)
- **ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: Cloudflare R2
- **èªè¨¼**: middleware.ts ã«ã‚ˆã‚‹Basicèªè¨¼ï¼ˆç®¡ç†è€…æ©Ÿèƒ½ï¼‰
- **ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°**: AppRun (ã•ãã‚‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆ)

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆï¼ˆGoogle Sheetsï¼‰

#### Googleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ§‹æˆ
- **ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆå**: ã€Œã‚¨ãƒ«ãƒ‹ãƒ¼ãƒ‹ãƒ§å‹•ç”»é…å¸ƒã‚µã‚¤ãƒˆ_ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€
- **ã‚·ãƒ¼ãƒˆæ•°**: 3ã¤ã®ã‚·ãƒ¼ãƒˆ

#### 1. playersã‚·ãƒ¼ãƒˆï¼ˆãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æƒ…å ±ï¼‰
| åˆ— | ã‚«ãƒ©ãƒ å | ãƒ‡ãƒ¼ã‚¿å‹ | èª¬æ˜ | ä¾‹ |
|---|---|---|---|---|
| A | id | æ•°å€¤ | ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ä¸€æ„ID | 1, 2, 3... |
| B | name | æ–‡å­—åˆ— | ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å | ã‚‹ãã‚‰, é¢¨é¾, ã›ã›ã‚‰ã |

#### 2. videosã‚·ãƒ¼ãƒˆï¼ˆå‹•ç”»æƒ…å ±ï¼‰
| åˆ— | ã‚«ãƒ©ãƒ å | ãƒ‡ãƒ¼ã‚¿å‹ | èª¬æ˜ | ä¾‹ |
|---|---|---|---|---|
| A | id | æ•°å€¤ | å‹•ç”»ã®ä¸€æ„ID | 1, 2, 3... |
| B | name | æ–‡å­—åˆ— | å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆæ‹¡å¼µå­å«ã‚€ï¼‰ | rukura_yosen.mp4 |
| C | type | æ–‡å­—åˆ— | å‹•ç”»ç¨®åˆ¥ | äºˆé¸, TOP16, TOP8, TOP4, 3ä½æ±ºå®šæˆ¦, æ±ºå‹æˆ¦ |

#### 3. player_videosã‚·ãƒ¼ãƒˆï¼ˆãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼-å‹•ç”»ã®ç´ä»˜ã‘ï¼‰
| åˆ— | ã‚«ãƒ©ãƒ å | ãƒ‡ãƒ¼ã‚¿å‹ | èª¬æ˜ | ä¾‹ |
|---|---|---|---|---|
| A | id | æ•°å€¤ | ãƒãƒƒãƒ”ãƒ³ã‚°ã®ä¸€æ„ID | 1, 2, 3... |
| B | player_id | æ•°å€¤ | playersã‚·ãƒ¼ãƒˆã®idå‚ç…§ | 1, 2, 3 |
| C | video_id | æ•°å€¤ | videosã‚·ãƒ¼ãƒˆã®idå‚ç…§ | 1, 2, 3 |

#### ãƒ‡ãƒ¼ã‚¿é–¢ä¿‚æ€§
```
players (1) â†â†’ (å¤š) player_videos (å¤š) â†â†’ (1) videos
```

#### é‡è¦ãªåˆ¶ç´„
- **ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œ**: å„ã‚·ãƒ¼ãƒˆã®1è¡Œç›®ã¯å¿…ãšã‚«ãƒ©ãƒ å
- **id**: å„ã‚·ãƒ¼ãƒˆã§ä¸€æ„ã®æ•°å€¤ï¼ˆè‡ªå‹•å¢—åˆ†æ¨å¥¨ï¼‰
- **å¤–éƒ¨ã‚­ãƒ¼**: player_id, video_id ã¯å¯¾å¿œã™ã‚‹ã‚·ãƒ¼ãƒˆã®idå‚ç…§
- **å‹•ç”»ç¨®åˆ¥**: äºˆé¸|TOP16|TOP8|TOP4|3ä½æ±ºå®šæˆ¦|æ±ºå‹æˆ¦ ã®ã¿è¨±å¯

## ç”»é¢æ§‹æˆ

### ãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½
- `/`: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä¸€è¦§ï¼ˆã‚¨ãƒ³ãƒˆãƒªãƒ¼Noã€ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åã€è©³ç´°ãƒªãƒ³ã‚¯ï¼‰
- `/players/[id]`: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è©³ç´°ï¼ˆå‹•ç”»ä¸€è¦§ã¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯ï¼‰

### ç®¡ç†è€…æ©Ÿèƒ½ï¼ˆBasicèªè¨¼å¿…é ˆï¼‰
- `/admin`: ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- `/admin/players`: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†ï¼ˆä¸€è¦§ã€ä½œæˆã€ç·¨é›†ã€å‰Šé™¤ï¼‰
- `/admin/players/new`: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½œæˆ
- `/admin/players/[id]/edit`: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç·¨é›†
- `/admin/videos`: å‹•ç”»ç®¡ç†ï¼ˆä¸€è¦§ã€ç™»éŒ²ã€ç·¨é›†ã€å‰Šé™¤ï¼‰
- `/admin/videos/new`: å‹•ç”»ç™»éŒ²ï¼ˆR2ã¸ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å«ã‚€ï¼‰
- `/admin/videos/[id]/edit`: å‹•ç”»ç·¨é›†

## å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

### Server Components ã§ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒ
```typescript
// app/page.tsx (ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä¸€è¦§)
import { getPlayers } from '@/src/entities/player/api'

export default async function HomePage() {
  const players = await getPlayers()
  
  return (
    <div>
      {players.map(player => (
        <PlayerCard key={player.id} player={player} />
      ))}
    </div>
  )
}
```

### Server Actions ã§ã®ãƒ•ã‚©ãƒ¼ãƒ å‡¦ç†
```typescript
// app/admin/players/new/page.tsx
import { createPlayer } from '@/src/features/manage-players/actions'

export default function CreatePlayerPage() {
  return (
    <form action={createPlayer}>
      <input name="name" required />
      <button type="submit">ä½œæˆ</button>
    </form>
  )
}

// src/features/manage-players/actions.ts
'use server'
import { redirect } from 'next/navigation'
import { savePlayer } from '@/src/entities/player/api'

export async function createPlayer(formData: FormData) {
  const name = formData.get('name') as string
  await savePlayer({ name })
  redirect('/admin/players')
}
```

### middleware.ts ã§ã®èªè¨¼
```typescript
// middleware.ts
import { NextRequest, NextResponse } from 'next/server'

export function middleware(request: NextRequest) {
  if (request.nextUrl.pathname.startsWith('/admin')) {
    const basicAuth = request.headers.get('authorization')
    
    if (!basicAuth) {
      return new NextResponse('èªè¨¼ãŒå¿…è¦ã§ã™', {
        status: 401,
        headers: {
          'WWW-Authenticate': 'Basic realm="Admin Area"',
        },
      })
    }
    
    // Basicèªè¨¼ã®æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯
    const authValue = basicAuth.split(' ')[1]
    const [user, password] = atob(authValue).split(':')
    
    if (user !== process.env.ADMIN_USER || password !== process.env.ADMIN_PASSWORD) {
      return new NextResponse('èªè¨¼å¤±æ•—', { status: 401 })
    }
  }
  
  return NextResponse.next()
}

export const config = {
  matcher: '/admin/:path*'
}
```

## é–‹ç™ºã‚„å®Ÿè£…ã‚’è¡Œã†å ´åˆã«ã‹ãªã‚‰ãšã‚„ã‚‹ã“ã¨

### é‡è¦: æ¯å›å¿…é ˆã®ç¢ºèªäº‹é …
**ğŸš¨ å®Ÿè£…å®Œäº†å‰ã«å¿…ãšä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼ˆä¾‹å¤–ãªã—ï¼‰ï¼š**

### å®Œäº†æ¡ä»¶
- lint, typecheck, test(vitest, e2e), build ãŒé€šã‚‹ã“ã¨
- å·¥ç¨‹ãŒå®Œäº†ã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å®Ÿè£…å·¥ç¨‹è¡¨ã«ãƒã‚§ãƒƒã‚¯ã‚’ä»˜ã‘ã‚‹: @requirements/02_å®Ÿè£…å·¥ç¨‹è¡¨.md

### ç¢ºèªã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ‰‹é †
1. `npm run lint` - ãƒªãƒ³ãƒˆãƒã‚§ãƒƒã‚¯
2. `npm run test` - Vitestãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
3. `npm run test:e2e -- --reporter=line` - E2Eãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
4. `npm run build` - ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯

### å®Ÿè£…å·¥ç¨‹è¡¨ã®æ›´æ–°
requirements/02_å®Ÿè£…å·¥ç¨‹è¡¨.md ã®è©²å½“ã™ã‚‹é …ç›®ã«[x]ã‚’ã¤ã‘ã¦å®Œäº†ã‚’ãƒãƒ¼ã‚¯

âš ï¸ **æ³¨æ„**: ã“ã‚Œã‚‰ã®ç¢ºèªã‚’å¿˜ã‚ŒãŸå ´åˆã€å¿…ãšå¾Œã§å®Ÿè¡Œã—ã¦çµæœã‚’å ±å‘Šã—ã¦ãã ã•ã„

## é–‹ç™ºæ‰‹é †

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆæœªå®Ÿè£…ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆï¼‰
1. Next.js ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–
2. å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
   - Google Sheets APIé–¢é€£ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
   - Cloudflare R2 SDK
   - jotai + zodï¼ˆãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†ï¼‰
3. å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æºè¨­å®š
   - Google Sheets APIèªè¨¼è¨­å®š
   - Cloudflare R2ãƒã‚±ãƒƒãƒˆè¨­å®š

### å®Ÿè£…å„ªå…ˆé †ä½
1. **MVPç‰ˆ**ï¼ˆ8-10æ—¥ï¼‰: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½ã®ã¿ï¼ˆãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä¸€è¦§ãƒ»å‹•ç”»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼‰
2. **ç®¡ç†è€…æ©Ÿèƒ½è¿½åŠ ç‰ˆ**ï¼ˆ+6-8æ—¥ï¼‰: ç®¡ç†è€…ã«ã‚ˆã‚‹CRUDæ“ä½œ
3. **ãƒ•ãƒ«æ©Ÿèƒ½ç‰ˆ**ï¼ˆ+2-4æ—¥ï¼‰: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»æœ€é©åŒ–ãƒ»ãƒ†ã‚¹ãƒˆ

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

### ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆServer Componentsï¼‰
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½**: Server Componentså†…ã§ç›´æ¥ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒ
  - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä¸€è¦§å–å¾—
  - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥å‹•ç”»ä¸€è¦§å–å¾—
  - å‹•ç”»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰URLç”Ÿæˆ
- **ç®¡ç†è€…æ©Ÿèƒ½**: middleware.ts ã«ã‚ˆã‚‹èªè¨¼å¾Œã€Server Components ã§ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒ

### ãƒ‡ãƒ¼ã‚¿æ“ä½œï¼ˆServer Actionsï¼‰
- **ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†**: ä½œæˆãƒ»æ›´æ–°ãƒ»å‰Šé™¤
- **å‹•ç”»ç®¡ç†**: ç™»éŒ²ï¼ˆR2ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å«ã‚€ï¼‰ãƒ»æ›´æ–°ãƒ»å‰Šé™¤
- **èªè¨¼**: middleware.ts ã§ãƒ‘ã‚¹å˜ä½ã®èªè¨¼åˆ¶å¾¡

### ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
- Next.js 14+ ã® cache API ã‚’æ´»ç”¨
- Google Sheets API åˆ¶é™å¯¾ç­–
- é©åˆ‡ãª revalidate è¨­å®š

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ï¼ˆNext.js App Router + FSDï¼‰

```
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/
â”œâ”€â”€ app/                      # Next.js App Router (ãƒ«ãƒ¼ãƒˆ)
â”‚   â”œâ”€â”€ layout.tsx           # Next.js ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ page.tsx             # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ãƒ«ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ players/
â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚       â””â”€â”€ page.tsx     # ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è©³ç´°ãƒšãƒ¼ã‚¸
â”‚   â””â”€â”€ admin/
â”‚       â”œâ”€â”€ layout.tsx       # ç®¡ç†è€…ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚       â”œâ”€â”€ page.tsx         # ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚       â”œâ”€â”€ players/
â”‚       â”‚   â”œâ”€â”€ page.tsx     # ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†ä¸€è¦§
â”‚       â”‚   â”œâ”€â”€ new/
â”‚       â”‚   â”‚   â””â”€â”€ page.tsx # ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½œæˆ
â”‚       â”‚   â””â”€â”€ [id]/
â”‚       â”‚       â””â”€â”€ edit/
â”‚       â”‚           â””â”€â”€ page.tsx # ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç·¨é›†
â”‚       â””â”€â”€ videos/
â”‚           â”œâ”€â”€ page.tsx     # å‹•ç”»ç®¡ç†ä¸€è¦§
â”‚           â”œâ”€â”€ new/
â”‚           â”‚   â””â”€â”€ page.tsx # å‹•ç”»ç™»éŒ²
â”‚           â””â”€â”€ [id]/
â”‚               â””â”€â”€ edit/
â”‚                   â””â”€â”€ page.tsx # å‹•ç”»ç·¨é›†
â”œâ”€â”€ src/                     # FSD ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
â”‚   â”œâ”€â”€ app/                 # FSD app ãƒ¬ã‚¤ãƒ¤ãƒ¼
â”‚   â”‚   â”œâ”€â”€ providers/       # React Context, stateç®¡ç†
â”‚   â”‚   â”œâ”€â”€ styles/          # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”‚   â””â”€â”€ config/          # ã‚¢ãƒ—ãƒªè¨­å®š
â”‚   â”œâ”€â”€ pages/               # FSD pages ãƒ¬ã‚¤ãƒ¤ãƒ¼
â”‚   â”‚   â”œâ”€â”€ home/            # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ player-detail/   # ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è©³ç´°ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ admin-dashboard/ # ç®¡ç†ç”»é¢ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”œâ”€â”€ widgets/             # è¤‡åˆUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ player-list/     # ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä¸€è¦§
â”‚   â”‚   â”œâ”€â”€ video-list/      # å‹•ç”»ä¸€è¦§
â”‚   â”‚   â””â”€â”€ admin-nav/       # ç®¡ç†ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ features/            # ãƒ“ã‚¸ãƒã‚¹æ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ download-video/  # å‹•ç”»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ manage-players/  # ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ actions.ts   # Server Actions
â”‚   â”‚   â”‚   â””â”€â”€ components/  # UI Components
â”‚   â”‚   â”œâ”€â”€ manage-videos/   # å‹•ç”»ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ actions.ts   # Server Actions
â”‚   â”‚   â”‚   â””â”€â”€ components/  # UI Components
â”‚   â”‚   â””â”€â”€ auth/           # èªè¨¼
â”‚   â”œâ”€â”€ entities/            # ãƒ“ã‚¸ãƒã‚¹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
â”‚   â”‚   â”œâ”€â”€ player/         # ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ types.ts    # å‹å®šç¾©
â”‚   â”‚   â”‚   â””â”€â”€ api.ts      # ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹
â”‚   â”‚   â”œâ”€â”€ video/          # å‹•ç”»ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ types.ts    # å‹å®šç¾©
â”‚   â”‚   â”‚   â””â”€â”€ api.ts      # ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹
â”‚   â”‚   â””â”€â”€ user/           # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¢ãƒ‡ãƒ«
â”‚   â””â”€â”€ shared/             # å…±é€šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚       â”œâ”€â”€ ui/             # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â”œâ”€â”€ lib/            # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚       â”œâ”€â”€ api/            # Google Sheets, R2 APIåŸºç›¤
â”‚       â””â”€â”€ config/         # è¨­å®š
â”œâ”€â”€ middleware.ts           # èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â””â”€â”€ tests/                  # Playwright E2Eãƒ†ã‚¹ãƒˆ
```

### Next.js App Router â† FSD Pages ã®çµ±åˆ
```typescript
// app/page.tsx (Next.js Router)
import { HomePage } from '@/src/pages/home'

export default function RootPage() {
  return <HomePage />
}

// app/players/[id]/page.tsx
import { PlayerDetailPage } from '@/src/pages/player-detail'

export default function PlayerPage({ params }: { params: { id: string } }) {
  return <PlayerDetailPage playerId={params.id} />
}
```

## æ³¨æ„äº‹é …

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- ç®¡ç†è€…æ©Ÿèƒ½ã«ã¯å¿…ãšBasicèªè¨¼ã‚’å®Ÿè£…
- API ã‚­ãƒ¼ã‚„èªè¨¼æƒ…å ±ã¯ç’°å¢ƒå¤‰æ•°ã§ç®¡ç†
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ™‚ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- Google Sheets APIåˆ¶é™å¯¾ç­–ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ï¼‰
- å¤§å®¹é‡å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æœ€é©åŒ–
- R2ã®CDNè¨­å®šæ´»ç”¨

### é‹ç”¨
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®çµ±ä¸€
- ãƒ­ã‚°å‡ºåŠ›ã®æ¨™æº–åŒ–
- ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œã®ç¢ºä¿